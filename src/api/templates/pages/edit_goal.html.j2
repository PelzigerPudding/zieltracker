{% extends "index.html.j2" %}

{% block content %}
<section>
    <div class="container">
        <h2 class="my-4">Edit Goal</h2>
        <form method="POST" action="{{ url_for('edit_goal', goal_id=goal.goal_id) }}">
            <div class="form-group">
                <label for="title">Title</label>
                <input type="text" id="title" name="title" class="form-control" value="{{ goal.title }}" required>
            </div>
            <div class="form-group">
                <label for="description">Description</label>
                <input type="text" id="description" name="description" class="form-control" value="{{ goal.description }}" required>
            </div>
            <div class="form-group">
                <label for="criteria">Criteria</label>
                <input type="text" id="criteria" name="criteria" class="form-control" value="{{ goal.criteria }}" required>
            </div>
            <div class="form-group">
                <label for="comment">Comment</label>
                <input type="text" id="comment" name="comment" class="form-control" value="{{ goal.comment }}">
            </div>
            <div class="form-group">
                <label for="additionalInformation">Additional Information</label>
                <input type="text" id="additionalInformation" name="additionalInformation" class="form-control" value="{{ goal.additionalInformation }}">
            </div>

            <!-- Dropdowns -->
            <div class="form-group">
                <label for="division_id">Division</label>
                <select id="division_id" name="division_id" class="form-control">
                    {% for division in divisions %}
                    <option value="{{ division.division_id }}" {% if division.division_id == goal.division_id %}selected{% endif %}>{{ division.name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="collaborator_id">Collaborator</label>
                <select id="collaborator_id" name="collaborator_id" class="form-control">
                    {% for collaborator in collaborators %}
                    <option value="{{ collaborator.collaborator_id }}" {% if collaborator.collaborator_id == goal.collaborator_id %}selected{% endif %}>{{ collaborator.name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="score_id">Score</label>
                <select id="score_id" name="score_id" class="form-control">
                    {% for score in scores %}
                    <option value="{{ score.score_id }}" {% if score.score_id == goal.score_id %}selected{% endif %}>{{ score.name }}</option>
                    {% endfor %}
                </select>
            </div>

            <button type="submit" class="btn btn-primary">Update Goal</button>
        </form>
    </div>
</section>
{% endblock %}
